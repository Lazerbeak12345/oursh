<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Parsing and handling program syntax(es) of the shell."><meta name="keywords" content="rust, rustlang, rust-lang, program"><title>oursh::program - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../favicon.svg"><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../oursh/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><h2 class="location">Module program</h2><div class="sidebar-elems"><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div><div id="sidebar-vars" data-name="program" data-ty="mod" data-relpath="./"></div><script defer src="./sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../index.html">oursh</a>::<wbr><a class="mod" href="#">program</a><button id="copy-path" onclick="copy_path(this)" title="copy path"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item import" title="Copy item import to clipboard"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/oursh/program/mod.rs.html#1-241" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Parsing and handling program syntax(es) of the shell.</p>
<p>Both, commands entered to the shell interactively through STDIN, and read
from a file, are <em>programs</em>. Our shell provides multiple discrete languages
to write programs in, each with a corresponding implementation of this
module’s <code>Program</code> trait.</p>
<h3 id="posix-shell-language" class="section-header"><a href="#posix-shell-language">POSIX Shell Language</a></h3>
<p>The basic, portable POSIX shell language. For detailed information read the
<a href="posix/index.html"><code>posix</code></a> module docs.</p>
<div class="example-wrap"><pre class="language-sh">for ((i=0; i&lt;10; i++)); do echo $i; done</pre></div><h3 id="modern-shell-language" class="section-header"><a href="#modern-shell-language">Modern Shell Language</a></h3>
<p>A more modern and ergonomic language. For more detailed information read
the <a href="modern/index.html"><code>modern</code></a> module docs.</p>
<div class="example-wrap"><pre class="language-sh">for i in (0..10) { echo $i }</pre></div><h3 id="default-syntax" class="section-header"><a href="#default-syntax">Default Syntax</a></h3>
<p>Our shell has a <code>PrimaryProgram</code> which is in charge of parsing programs
which are not passed in via a <code>{#}</code> language block. This can be configured
to your preference. This does not effect the shell when launched in
POSIX compatibility mode, or when a specific default language is passed
as a flag.</p>
<h3 id="-language-blocks" class="section-header"><a href="#-language-blocks"><code>{#}</code> Language Blocks</a></h3>
<p>Both the <a href="posix/index.html"><code>posix</code></a> and
<a href="modern/index.html"><code>modern</code></a> languages have support for a special
expression which treats the body as a program from another language. This
forms the basis of oursh’s modern features, and backwards compatibility.
While the primary goal of this syntax is to be able to mix both POSIX and
non-POSIX shell scripts, the feature is much more powerful.  Any
interperator can be used, just like with <code>#!</code>.</p>
<div class="example-wrap"><pre class="language-sh">date      # Call `date` in the primary syntax.
{# date}  # Specifies the alternate syntax.

{#!ruby
    require &#39;date&#39;
    puts Date.today
}</pre></div>
<p>Strict POSIX compatibility can be enabled by removing this feature alone.</p>
<ul>
<li>TODO #5: Parse sequence of programs from stream.</li>
<li>TODO #5: Partial parses for readline-ish / syntax highlighting.</li>
</ul>
</div></details><h2 id="reexports" class="section-header"><a href="#reexports">Re-exports</a></h2>
<div class="item-table"><div class="item-left import-item"><code>pub use self::runtime::<a class="struct" href="runtime/struct.Runtime.html" title="struct oursh::program::runtime::Runtime">Runtime</a>;</code></div><div class="item-right docblock-short"></div><div class="item-left import-item"><code>pub use self::basic::<a class="struct" href="basic/struct.Program.html" title="struct oursh::program::basic::Program">Program</a> as BasicProgram;</code></div><div class="item-right docblock-short"></div><div class="item-left import-item"><code>pub use self::posix::<a class="struct" href="posix/ast/struct.Program.html" title="struct oursh::program::posix::ast::Program">Program</a> as PosixProgram;</code></div><div class="item-right docblock-short"></div><div class="item-left import-item"><code>pub use self::modern::<a class="struct" href="modern/struct.Program.html" title="struct oursh::program::modern::Program">Program</a> as ModernProgram;</code></div><div class="item-right docblock-short"></div></div><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="mod" href="basic/index.html" title="oursh::program::basic mod">basic</a></div><div class="item-right docblock-short"><p>Single command programs with no features.</p>
</div><div class="item-left module-item"><a class="mod" href="modern/index.html" title="oursh::program::modern mod">modern</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="mod" href="posix/index.html" title="oursh::program::posix mod">posix</a></div><div class="item-right docblock-short"><p>The shell language (often called <code>sh</code>) at the heart of the most popular
shells.</p>
</div><div class="item-left module-item"><a class="mod" href="runtime/index.html" title="oursh::program::runtime mod">runtime</a></div><div class="item-right docblock-short"></div></div><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="enum" href="enum.Error.html" title="oursh::program::Error enum">Error</a></div><div class="item-right docblock-short"><p>A comprehensive error type for the operation of programs.</p>
</div></div><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="trait" href="trait.Command.html" title="oursh::program::Command trait">Command</a></div><div class="item-right docblock-short"><p>A command is a task given by the user as part of a <a href="trait.Program.html"><code>Program</code></a>.</p>
</div><div class="item-left module-item"><a class="trait" href="trait.Program.html" title="oursh::program::Program trait">Program</a></div><div class="item-right docblock-short"><p>A program is as large as a file or as small as a line.</p>
</div><div class="item-left module-item"><a class="trait" href="trait.Run.html" title="oursh::program::Run trait">Run</a></div><div class="item-right docblock-short"></div></div><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="fn" href="fn.parse.html" title="oursh::program::parse fn">parse</a></div><div class="item-right docblock-short"><p>Parse a program of the given type.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.parse_alternate.html" title="oursh::program::parse_alternate fn">parse_alternate</a></div><div class="item-right docblock-short"><p>Parse a program of the alternate type.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.parse_and_run.html" title="oursh::program::parse_and_run fn">parse_and_run</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="fn" href="fn.parse_primary.html" title="oursh::program::parse_primary fn">parse_primary</a></div><div class="item-right docblock-short"><p>Parse a program of the primary type.</p>
</div></div><h2 id="types" class="section-header"><a href="#types">Type Definitions</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="type" href="type.AlternateProgram.html" title="oursh::program::AlternateProgram type">AlternateProgram</a></div><div class="item-right docblock-short"><p>TODO: alt explain</p>
</div><div class="item-left module-item"><a class="type" href="type.PrimaryProgram.html" title="oursh::program::PrimaryProgram type">PrimaryProgram</a></div><div class="item-right docblock-short"><p>The primary program type, used for unannotated blocks.</p>
</div><div class="item-left module-item"><a class="type" href="type.Result.html" title="oursh::program::Result type">Result</a></div><div class="item-right docblock-short"><p>Convenience type for results with program errors.</p>
</div></div></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="oursh" data-search-index-js="../../search-index.js" data-search-js="../../search.js"></div>
    <script src="../../main.js"></script>
</body></html>